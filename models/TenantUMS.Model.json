{
  "version": "2.0",
  "models": [
    {
      "Key": "44",
      "Name": "TenantUMS",
      "Definition": {
        "version": "v2",
        "attributes": [],
        "flows": {
          "blocks": [
            {
              "title": "Action",
              "type": "linkedactionstart",
              "id": "2eb90704-81f8-4c7c-daff-026728c349a4",
              "position": {
                "left": 775,
                "top": 349
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "90b3b27c-39d1-4b23-d669-54cf261932c2:output:output",
                    "target": "2eb90704-81f8-4c7c-daff-026728c349a4:input:__actionlink__"
                  }
                ],
                "outputs": [
                  {
                    "source": "2eb90704-81f8-4c7c-daff-026728c349a4:output:Input 01",
                    "target": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa:input:extra"
                  },
                  {
                    "source": "2eb90704-81f8-4c7c-daff-026728c349a4:output:Input 01",
                    "target": "3650d6e4-e377-4153-b702-868495940a71:input:trigger"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "__actionlink__",
                  "type": "actionlink",
                  "label": "",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "Input 01",
                  "type": "",
                  "label": "Input 01",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "",
              "initiate": false,
              "published": false,
              "debug": true,
              "roles": [],
              "static": true
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "19cd1960-b67a-4a72-9b3f-3ab8b6b21392",
              "position": {
                "left": 768.4999847412109,
                "top": 232.25000381469727
              },
              "surface": "GetAllRegisteredMeters",
              "connections": {
                "inputs": [
                  {
                    "source": "5060bca2-6361-4e84-e797-f786e8fffeb5:output:output",
                    "target": "19cd1960-b67a-4a72-9b3f-3ab8b6b21392:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "Projection",
              "type": "projection",
              "id": "ca372cf6-c1ab-4b03-cc4f-5334dd97e37e",
              "position": {
                "left": 990,
                "top": 87
              },
              "surface": "GetTenantTags",
              "connections": {
                "inputs": [
                  {
                    "source": "e3e6f7eb-ccdd-4704-cb19-799f3a277454:output:output",
                    "target": "ca372cf6-c1ab-4b03-cc4f-5334dd97e37e:input:data"
                  }
                ],
                "outputs": [
                  {
                    "source": "ca372cf6-c1ab-4b03-cc4f-5334dd97e37e:output:output",
                    "target": "e1b35b36-c31e-47ef-95eb-5b528893290f:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "data",
                  "type": "",
                  "label": "Data",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "configuration": "[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"tenant\",\"Operator\":\"rename\",\"Value\":\"value\",\"IsPin\":false},{\"Attribute\":\"tag\",\"Operator\":\"add\",\"Value\":\"tenant\",\"IsPin\":false},{\"Attribute\":\"value\",\"Operator\":\"copy\",\"Value\":\"label\",\"IsPin\":false}],\"Groups\":[]}]"
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "7b9dd442-8582-4136-b0ac-160960d65ab6",
              "position": {
                "left": 90,
                "top": 127
              },
              "surface": "GetMyInvoices",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "7b9dd442-8582-4136-b0ac-160960d65ab6:output:output",
                    "target": "0b438536-a205-44a6-a071-119d332167a6:input:trigger"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\",\"properties\":{\"invoices\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"id\",\"start\",\"end\",\"status\"]}}},\"required\":[\"invoices\"]}",
              "actionName": "GetMyInvoices",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Insert one document",
              "type": "modelcollections:insertone",
              "id": "9be26018-af97-49a9-b67f-2afb5598bdfe",
              "position": {
                "left": 1304,
                "top": 345
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [
                  {
                    "source": "c1244cc7-cc41-4698-8847-1d341e2aaf71:output:true",
                    "target": "9be26018-af97-49a9-b67f-2afb5598bdfe:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "9be26018-af97-49a9-b67f-2afb5598bdfe:output:output",
                    "target": "3c0c30ce-c687-4de1-f77d-00605d77f415:input:input"
                  },
                  {
                    "source": "9be26018-af97-49a9-b67f-2afb5598bdfe:output:output",
                    "target": "644d8351-3b97-4bf8-c633-dde683755399:input:trigger"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "#{input.tenantId}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "meter",
                  "type": "",
                  "label": "meter",
                  "value": "#{input.meterId}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "budget",
                  "type": "",
                  "label": "budget",
                  "value": "#{input.budget}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "#{input.type}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "__data__",
                  "type": "text",
                  "label": "Data",
                  "value": "",
                  "description": "Data to be inserted",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[]",
              "UpdateAsAttributes": true,
              "UseContentAwareAutoFill": false,
              "ReceiveIndividualFields": false,
              "timeout": 5000
            },
            {
              "title": "Find one document",
              "type": "modelcollections:findone",
              "id": "c287db26-e9d2-4aa9-d204-16607ba7f56d",
              "position": {
                "left": 344,
                "top": 189
              },
              "surface": "GetGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "0ef82b24-0670-4037-98db-8b645a219031:output:output",
                    "target": "c287db26-e9d2-4aa9-d204-16607ba7f56d:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "c287db26-e9d2-4aa9-d204-16607ba7f56d:output:output",
                    "target": "64ad7dbd-4eab-41ca-f143-b38e94a74932:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "a396c00d-db4e-4a21-ca2a-173cf03f177d",
              "configuration": "[]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "c7333f06-6ac9-4c25-c7cd-fd0d20ccfc4b",
              "position": {
                "left": 758,
                "top": 164
              },
              "surface": "GetAllMeters",
              "connections": {
                "inputs": [
                  {
                    "source": "c733bd9d-9f08-412a-bbc7-477d3138f0d2:output:meters",
                    "target": "c7333f06-6ac9-4c25-c7cd-fd0d20ccfc4b:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "Extract Multiple Values",
              "type": "extractmultiplevalues",
              "id": "1b778f5c-184b-44cc-d303-f956214d7289",
              "position": {
                "left": 349,
                "top": 393
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "e18de11d-32f6-4d1c-8968-f3544aa588e4:output:settings",
                    "target": "1b778f5c-184b-44cc-d303-f956214d7289:input:input"
                  }
                ],
                "outputs": [
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:invoiceHtml",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:html"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:waterRate",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:waterRate"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:energyRate",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:energyRate"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:taxRate",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:taxRate"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Input",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "taxRate",
                  "type": "",
                  "label": "taxRate",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "energyRate",
                  "type": "",
                  "label": "energyRate",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "waterRate",
                  "type": "",
                  "label": "waterRate",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "invoiceHtml",
                  "type": "",
                  "label": "invoiceHtml",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "e18de11d-32f6-4d1c-8968-f3544aa588e4",
              "position": {
                "left": 92,
                "top": 199
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "e18de11d-32f6-4d1c-8968-f3544aa588e4:output:settings",
                    "target": "282fdc48-2a68-46a5-85c4-4560fb068676:input:input"
                  },
                  {
                    "source": "e18de11d-32f6-4d1c-8968-f3544aa588e4:output:output",
                    "target": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7:input:trigger"
                  },
                  {
                    "source": "e18de11d-32f6-4d1c-8968-f3544aa588e4:output:settings",
                    "target": "1b778f5c-184b-44cc-d303-f956214d7289:input:input"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "settings",
                  "type": "",
                  "label": "settings",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\"}",
              "actionName": "SaveGlobalSettings",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": true,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "ES6Javascript",
              "type": "es6javascript",
              "id": "c733bd9d-9f08-412a-bbc7-477d3138f0d2",
              "position": {
                "left": 531,
                "top": 328
              },
              "surface": "GetAllMeters",
              "connections": {
                "inputs": [
                  {
                    "source": "67da7e0c-5453-4931-e629-c40b57cdede9:output:meters",
                    "target": "c733bd9d-9f08-412a-bbc7-477d3138f0d2:input:meters"
                  }
                ],
                "outputs": [
                  {
                    "source": "c733bd9d-9f08-412a-bbc7-477d3138f0d2:output:meters",
                    "target": "c7333f06-6ac9-4c25-c7cd-fd0d20ccfc4b:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "meters",
                  "type": "",
                  "label": "meters",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "meters",
                  "type": "",
                  "label": "meters",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "description": "",
              "code": "let {meters} = runtime.inputs();\nif (!(meters instanceof Array)) meters = [];\n\n\nruntime.done({meters:[...meters].map(x=>({id:x.id,name:x.id}))});",
              "timeoutMilliseconds": 5000
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "a959df68-e15f-474b-883e-403040c4c185",
              "position": {
                "left": 97,
                "top": 154
              },
              "surface": "DeleteMeterForTenant",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "a959df68-e15f-474b-883e-403040c4c185:output:meterId",
                    "target": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:input:meterId"
                  },
                  {
                    "source": "a959df68-e15f-474b-883e-403040c4c185:output:tenantId",
                    "target": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:input:tenantId"
                  },
                  {
                    "source": "a959df68-e15f-474b-883e-403040c4c185:output:type",
                    "target": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:input:type"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "meterId",
                  "type": "",
                  "label": "meterId",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenantId",
                  "type": "",
                  "label": "tenantId",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "",
              "actionName": "DeleteMeterForTenant",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": true,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "98a6525a-854f-4781-837c-e0427f63da2f",
              "position": {
                "left": 1434,
                "top": 222
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "b51171ed-930b-43c6-83eb-37cd71690184:output:result",
                    "target": "98a6525a-854f-4781-837c-e0427f63da2f:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": "result"
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "2c2aa632-eba0-493e-b9d0-1b7e05216791",
              "position": {
                "left": 60,
                "top": 60
              },
              "surface": "GetInvoice",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "2c2aa632-eba0-493e-b9d0-1b7e05216791:output:id",
                    "target": "d049b3b6-88e7-4565-bf0a-8a7372b5c321:input:id"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id"
                }
              ],
              "canOverrideCredentials": false,
              "schema": "",
              "actionName": "GetInvoice",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": true,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "97fb64fc-c022-4d71-daba-b7c52a8bab98",
              "position": {
                "left": 706,
                "top": 67
              },
              "surface": "GetAllTenants",
              "connections": {
                "inputs": [
                  {
                    "source": "248e0e12-e72c-4c36-fdf3-2b016e0b20c3:output:tenants",
                    "target": "97fb64fc-c022-4d71-daba-b7c52a8bab98:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": "tenants"
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "637b93f0-870c-416c-99b1-f686a1f459d7",
              "position": {
                "left": 84.75000381469727,
                "top": 223.75
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "637b93f0-870c-416c-99b1-f686a1f459d7:output:meterId",
                    "target": "82417937-e57e-4997-bb1c-2382b9faa735:input:meterId"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "budget",
                  "type": "",
                  "label": "budget",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "meterId",
                  "type": "",
                  "label": "meterId",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenantId",
                  "type": "",
                  "label": "tenantId",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\"}",
              "actionName": "AddMeter",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": true,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "2e818b2e-8a2b-4914-b80b-73d2882f4840",
              "position": {
                "left": 739,
                "top": 165.5
              },
              "surface": "EditInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:output:result",
                    "target": "2e818b2e-8a2b-4914-b80b-73d2882f4840:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": "result"
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "5b2531e1-7fd5-4e2a-f311-d00dbde035db",
              "position": {
                "left": 764,
                "top": 159
              },
              "surface": "DeleteMeterForTenant",
              "connections": {
                "inputs": [
                  {
                    "source": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:output:output",
                    "target": "5b2531e1-7fd5-4e2a-f311-d00dbde035db:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "Aggregate In Group",
              "type": "aggregategroup",
              "id": "3b0a306b-baa2-4d06-e594-b10339e76422",
              "position": {
                "left": 1250,
                "top": 146
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "3650d6e4-e377-4153-b702-868495940a71:output:output",
                    "target": "3b0a306b-baa2-4d06-e594-b10339e76422:input:input"
                  }
                ],
                "outputs": [
                  {
                    "source": "3b0a306b-baa2-4d06-e594-b10339e76422:output:output",
                    "target": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa:input:list"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Input",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "groupBy": "[{\"field\":\"tenant\"}]",
              "aggregateFields": "[{\"field\":\"type\",\"name\":\"type\",\"calculation\":\"Count\"}]"
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "0b438536-a205-44a6-a071-119d332167a6",
              "position": {
                "left": 347,
                "top": 81
              },
              "surface": "GetMyInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "7b9dd442-8582-4136-b0ac-160960d65ab6:output:output",
                    "target": "0b438536-a205-44a6-a071-119d332167a6:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "0b438536-a205-44a6-a071-119d332167a6:output:id",
                    "target": "d0cca203-72a1-43f0-e98a-05fa1907ebcc:input:input1"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetMyTenant",
              "modelName": "#{model.tenant}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "id": "5060bca2-6361-4e84-e797-f786e8fffeb5",
              "position": {
                "left": 504.75006103515625,
                "top": 191.00000381469727
              },
              "surface": "GetAllRegisteredMeters",
              "connections": {
                "inputs": [
                  {
                    "source": "3fc4a9de-3e89-41bd-b744-9e62db44e327:output:output",
                    "target": "5060bca2-6361-4e84-e797-f786e8fffeb5:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "5060bca2-6361-4e84-e797-f786e8fffeb5:output:output",
                    "target": "19cd1960-b67a-4a72-9b3f-3ab8b6b21392:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Insert one document",
              "type": "modelcollections:insertone",
              "id": "b1f6d9fc-1279-4b16-d034-99fb361afacb",
              "position": {
                "left": 1906,
                "top": 465
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:end",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:end"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:start",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:start"
                  },
                  {
                    "source": "23365077-e072-4496-d3b2-428ba5eb35e3:output:invoice_id",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:id"
                  },
                  {
                    "source": "b51171ed-930b-43c6-83eb-37cd71690184:output:result",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:invoice"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "#{input.tenant}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "start",
                  "type": "",
                  "label": "start",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "end",
                  "type": "",
                  "label": "end",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "status",
                  "type": "",
                  "label": "status",
                  "value": "invoiced",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "invoice",
                  "type": "",
                  "label": "invoice",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "__data__",
                  "type": "text",
                  "label": "Data",
                  "value": "",
                  "description": "Data to be inserted",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "c381eaee-66fc-4386-d02a-94e1851c19d4",
              "configuration": "[]",
              "UpdateAsAttributes": true,
              "UseContentAwareAutoFill": false,
              "ReceiveIndividualFields": false,
              "timeout": 5000
            },
            {
              "title": "Update one document",
              "type": "modelcollections:updateone",
              "id": "24931a55-285e-4e61-a277-38489389e0fd",
              "position": {
                "left": 433,
                "top": 203.5
              },
              "surface": "UpdateInvoiceStatus",
              "connections": {
                "inputs": [
                  {
                    "source": "c295e3e9-f29d-4954-c349-04eaa0dfb154:output:status",
                    "target": "24931a55-285e-4e61-a277-38489389e0fd:input:status"
                  },
                  {
                    "source": "c295e3e9-f29d-4954-c349-04eaa0dfb154:output:invoice",
                    "target": "24931a55-285e-4e61-a277-38489389e0fd:input:id"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "status",
                  "type": "",
                  "label": "status",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "__data__",
                  "type": "text",
                  "label": "Data",
                  "value": "",
                  "description": "Data to be inserted",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "c381eaee-66fc-4386-d02a-94e1851c19d4",
              "configuration": "[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"id\",\"Operator\":\"eq\",\"Value\":\"id\",\"IsPin\":true}],\"Groups\":[]}]",
              "UpdateAsAttributes": true,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "c25b8483-7f35-4e49-a445-317f009bdaa1",
              "position": {
                "left": 414,
                "top": 741
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:output",
                    "target": "c25b8483-7f35-4e49-a445-317f009bdaa1:input:trigger"
                  },
                  {
                    "source": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362:output:output",
                    "target": "c25b8483-7f35-4e49-a445-317f009bdaa1:input:start"
                  }
                ],
                "outputs": [
                  {
                    "source": "c25b8483-7f35-4e49-a445-317f009bdaa1:output:data",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:historicalWater"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "value",
                  "type": "",
                  "label": "value",
                  "value": "#{input.tenant}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "start",
                  "type": "",
                  "label": "start",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "isodatetime",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "end",
                  "type": "",
                  "label": "end",
                  "value": "#{input.to}",
                  "description": "",
                  "documentation": "",
                  "transformation": "isodatetime",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "bucket",
                  "type": "",
                  "label": "bucket",
                  "value": "1mo",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tag",
                  "type": "",
                  "label": "tag",
                  "value": "tenant",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "water",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "data",
                  "type": "",
                  "label": "data",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetTotalConsumptionForTag",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "b51171ed-930b-43c6-83eb-37cd71690184",
              "position": {
                "left": 1174,
                "top": 253
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:start",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:start"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:end",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:end"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:energyTag",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:energyTag"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:waterTag",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:waterTag"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:parameters",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:parameters"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:template",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:template"
                  }
                ],
                "outputs": [
                  {
                    "source": "b51171ed-930b-43c6-83eb-37cd71690184:output:result",
                    "target": "98a6525a-854f-4781-837c-e0427f63da2f:input:input"
                  },
                  {
                    "source": "b51171ed-930b-43c6-83eb-37cd71690184:output:result",
                    "target": "23365077-e072-4496-d3b2-428ba5eb35e3:input:input"
                  },
                  {
                    "source": "b51171ed-930b-43c6-83eb-37cd71690184:output:result",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:invoice"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "template",
                  "type": "",
                  "label": "template",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "start",
                  "type": "",
                  "label": "start",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "end",
                  "type": "",
                  "label": "end",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "parameters",
                  "type": "",
                  "label": "parameters",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "energyTag",
                  "type": "",
                  "label": "energyTag",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "waterTag",
                  "type": "",
                  "label": "waterTag",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "name",
                  "type": "",
                  "label": "name",
                  "value": "tenant",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "result",
                  "type": "",
                  "label": "result",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "Create Invoice",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Repeat Action",
              "type": "repeataction",
              "id": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa",
              "position": {
                "left": 1472,
                "top": 371
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "3b0a306b-baa2-4d06-e594-b10339e76422:output:output",
                    "target": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa:input:list"
                  },
                  {
                    "source": "2eb90704-81f8-4c7c-daff-026728c349a4:output:Input 01",
                    "target": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa:input:extra"
                  }
                ],
                "outputs": [
                  {
                    "source": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa:output:action",
                    "target": "fea0beb6-262f-45e4-9518-3a843b8207e8:input:__actionlink__"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "list",
                  "type": "list",
                  "label": "Items",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "extra",
                  "type": "",
                  "label": "Extra",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "action",
                  "type": "actionlink",
                  "label": "Action",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "done",
                  "type": "",
                  "label": "Done",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "sequential": true
            },
            {
              "title": "Exists",
              "type": "exists",
              "id": "d0cca203-72a1-43f0-e98a-05fa1907ebcc",
              "position": {
                "left": 124,
                "top": 379
              },
              "surface": "GetMyInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "0b438536-a205-44a6-a071-119d332167a6:output:id",
                    "target": "d0cca203-72a1-43f0-e98a-05fa1907ebcc:input:input1"
                  }
                ],
                "outputs": [
                  {
                    "source": "d0cca203-72a1-43f0-e98a-05fa1907ebcc:output:true",
                    "target": "fd1a72fa-5424-4ec6-d637-865eee653642:input:tenant"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input1",
                  "type": "",
                  "label": "Input 1",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "true",
                  "type": "",
                  "label": "True",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "false",
                  "type": "",
                  "label": "False",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "Action",
              "type": "linkedactionstart",
              "id": "ae790df1-0291-46c1-d28c-2d7f9d5e1457",
              "position": {
                "left": 797.5,
                "top": 533.5
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "90b3b27c-39d1-4b23-d669-54cf261932c2:output:failed",
                    "target": "ae790df1-0291-46c1-d28c-2d7f9d5e1457:input:__actionlink__"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "__actionlink__",
                  "type": "actionlink",
                  "label": "",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "blockId",
                  "type": "",
                  "label": "Block ID",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "queueId",
                  "type": "",
                  "label": "Queue ID",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "",
              "initiate": false,
              "published": false,
              "debug": false,
              "roles": [],
              "static": true
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "3fc4a9de-3e89-41bd-b744-9e62db44e327",
              "position": {
                "left": 198.13391549246654,
                "top": 148.1339372907366
              },
              "surface": "GetAllRegisteredMeters",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "3fc4a9de-3e89-41bd-b744-9e62db44e327:output:output",
                    "target": "5060bca2-6361-4e84-e797-f786e8fffeb5:input:trigger"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"meter\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"meter\"]}}",
              "actionName": "GetAllRegisteredMeters",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "AddMonths",
              "type": "addmonths",
              "id": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362",
              "position": {
                "left": 155,
                "top": 577
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:to",
                    "target": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362:input:input1"
                  }
                ],
                "outputs": [
                  {
                    "source": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362:output:output",
                    "target": "5ca646cb-b078-4b73-8bd7-c597b887e120:input:start"
                  },
                  {
                    "source": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362:output:output",
                    "target": "c25b8483-7f35-4e49-a445-317f009bdaa1:input:start"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input1",
                  "type": "",
                  "label": "Date",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "datetime",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "input2",
                  "type": "",
                  "label": "Months",
                  "value": "-6",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Date",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "e2d5a3a1-b0f5-41db-ccc6-b5528db705b0",
              "position": {
                "left": 704,
                "top": 295
              },
              "surface": "DeleteMeterForTenant",
              "connections": {
                "inputs": [
                  {
                    "source": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:output:output",
                    "target": "e2d5a3a1-b0f5-41db-ccc6-b5528db705b0:input:trigger"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "#{input.meterId}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tag",
                  "type": "",
                  "label": "tag",
                  "value": "tenant",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "value",
                  "type": "",
                  "label": "value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "#{input.type}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "UpdateMeterTag",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "id": "3650d6e4-e377-4153-b702-868495940a71",
              "position": {
                "left": 972,
                "top": 146
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "2eb90704-81f8-4c7c-daff-026728c349a4:output:Input 01",
                    "target": "3650d6e4-e377-4153-b702-868495940a71:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "3650d6e4-e377-4153-b702-868495940a71:output:output",
                    "target": "3b0a306b-baa2-4d06-e594-b10339e76422:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "c0b82924-2683-48c2-b5a4-5033fbd88fca",
              "position": {
                "left": 698,
                "top": 75
              },
              "surface": "GetInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "d049b3b6-88e7-4565-bf0a-8a7372b5c321:output:invoice",
                    "target": "c0b82924-2683-48c2-b5a4-5033fbd88fca:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "4ead965e-2879-4892-b7f4-4ee6ceeb2ebf",
              "position": {
                "left": 2095,
                "top": 378
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "fea0beb6-262f-45e4-9518-3a843b8207e8:output:tenant",
                    "target": "4ead965e-2879-4892-b7f4-4ee6ceeb2ebf:input:tenant"
                  },
                  {
                    "source": "fea0beb6-262f-45e4-9518-3a843b8207e8:output:Extra",
                    "target": "4ead965e-2879-4892-b7f4-4ee6ceeb2ebf:input:to"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "to",
                  "type": "",
                  "label": "to",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GenerateInvoice",
              "modelName": "#{modelname}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "1bed6dc0-d28b-4174-ac31-5d170c6bc9ba",
              "position": {
                "left": 574,
                "top": 91
              },
              "surface": "DeleteMeterById",
              "connections": {
                "inputs": [
                  {
                    "source": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3:output:output",
                    "target": "1bed6dc0-d28b-4174-ac31-5d170c6bc9ba:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "19244a28-3424-4a52-8657-42def85eb829",
              "position": {
                "left": 523,
                "top": 96
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:tenant",
                    "target": "19244a28-3424-4a52-8657-42def85eb829:input:id"
                  }
                ],
                "outputs": [
                  {
                    "source": "19244a28-3424-4a52-8657-42def85eb829:output:tenant",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:tenant"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetTenantById",
              "modelName": "#{model.tenant}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "d049b3b6-88e7-4565-bf0a-8a7372b5c321",
              "position": {
                "left": 442,
                "top": 159
              },
              "surface": "GetInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "2c2aa632-eba0-493e-b9d0-1b7e05216791:output:id",
                    "target": "d049b3b6-88e7-4565-bf0a-8a7372b5c321:input:id"
                  }
                ],
                "outputs": [
                  {
                    "source": "d049b3b6-88e7-4565-bf0a-8a7372b5c321:output:invoice",
                    "target": "c0b82924-2683-48c2-b5a4-5033fbd88fca:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "invoice",
                  "type": "",
                  "label": "invoice",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "Get Invoice",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "e793fc98-35e5-47d7-b2fb-f6e96291a31d",
              "position": {
                "left": 0,
                "top": 301
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:to",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:start"
                  },
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:output",
                    "target": "5ca646cb-b078-4b73-8bd7-c597b887e120:input:trigger"
                  },
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:output",
                    "target": "c25b8483-7f35-4e49-a445-317f009bdaa1:input:trigger"
                  },
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:tenant",
                    "target": "19244a28-3424-4a52-8657-42def85eb829:input:id"
                  },
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:to",
                    "target": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362:input:input1"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "to",
                  "type": "",
                  "label": "to",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\",\"properties\":{\"result\":{\"type\":\"object\",\"properties\":{\"template\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"tagName\":{\"type\":\"string\"},\"consumption\":{\"type\":\"number\"}},\"required\":[\"type\",\"value\",\"tagName\",\"consumption\"]}},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"parameters\":{\"type\":\"object\",\"properties\":{\"tenant\":{\"type\":\"string\"},\"energy\":{\"type\":\"string\"},\"water\":{\"type\":\"string\"},\"tenantID\":{\"type\":\"string\"},\"tenantName\":{\"type\":\"string\"},\"total\":{\"type\":\"number\"}},\"required\":[\"tenant\",\"energy\",\"water\",\"tenantID\",\"tenantName\",\"total\"]},\"metadata\":{\"type\":\"object\",\"properties\":{\"rates\":{\"type\":\"object\",\"properties\":{\"energy\":{\"type\":\"number\"},\"water\":{\"type\":\"number\"}},\"required\":[\"energy\",\"water\"]},\"tax\":{\"type\":\"number\"}},\"required\":[\"rates\",\"tax\"]},\"invoice_id\":{\"type\":\"string\"},\"totalConsumption\":{\"type\":\"number\"},\"total\":{\"type\":\"number\"},\"onlyTotal\":{\"type\":\"number\"},\"discount\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"},\"created\":{\"type\":\"string\"},\"updated\":{\"type\":\"null\"}},\"required\":[\"template\",\"tags\",\"start\",\"end\",\"parameters\",\"metadata\",\"invoice_id\",\"totalConsumption\",\"total\",\"onlyTotal\",\"discount\",\"status\",\"created\",\"updated\"]}},\"required\":[\"result\"]}",
              "actionName": "GenerateInvoice",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": true,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "1ee03eb0-17c6-4873-e332-d1d72f67065c",
              "position": {
                "left": 60,
                "top": 86
              },
              "surface": "DeleteMeterById",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "1ee03eb0-17c6-4873-e332-d1d72f67065c:output:meterId",
                    "target": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3:input:meterId"
                  },
                  {
                    "source": "1ee03eb0-17c6-4873-e332-d1d72f67065c:output:type",
                    "target": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3:input:type"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "meterId",
                  "type": "",
                  "label": "meterId",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "",
              "actionName": "DeleteMeterById",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "0ef82b24-0670-4037-98db-8b645a219031",
              "position": {
                "left": 60,
                "top": 60
              },
              "surface": "GetGlobalSettings",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "0ef82b24-0670-4037-98db-8b645a219031:output:output",
                    "target": "c287db26-e9d2-4aa9-d204-16607ba7f56d:input:trigger"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\",\"properties\":{\"settings\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"energyRate\":{\"type\":\"number\"},\"waterRate\":{\"type\":\"number\"},\"invoiceHtml\":{\"type\":\"string\"},\"taxRate\":{\"type\":\"number\"}},\"required\":[\"_id\",\"energyRate\",\"waterRate\",\"invoiceHtml\",\"taxRate\"]}},\"required\":[\"settings\"]}",
              "actionName": "GetGlobalSettings",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "id": "7c7636ce-e9ff-450b-db34-c4abf7fc0176",
              "position": {
                "left": 448,
                "top": 62
              },
              "surface": "GetTenantTags",
              "connections": {
                "inputs": [
                  {
                    "source": "9772c122-6256-47e4-c0cc-39aa5804fb8b:output:output",
                    "target": "7c7636ce-e9ff-450b-db34-c4abf7fc0176:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "7c7636ce-e9ff-450b-db34-c4abf7fc0176:output:output",
                    "target": "e3e6f7eb-ccdd-4704-cb19-799f3a277454:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "64ad7dbd-4eab-41ca-f143-b38e94a74932",
              "position": {
                "left": 599,
                "top": 102
              },
              "surface": "GetGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "c287db26-e9d2-4aa9-d204-16607ba7f56d:output:output",
                    "target": "64ad7dbd-4eab-41ca-f143-b38e94a74932:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": "settings"
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "644d8351-3b97-4bf8-c633-dde683755399",
              "position": {
                "left": 1605,
                "top": 370
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [
                  {
                    "source": "9be26018-af97-49a9-b67f-2afb5598bdfe:output:output",
                    "target": "644d8351-3b97-4bf8-c633-dde683755399:input:trigger"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "#{input.meterId}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tag",
                  "type": "",
                  "label": "tag",
                  "value": "tenant",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "value",
                  "type": "",
                  "label": "value",
                  "value": "#{input.tenantId}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "#{input.type}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "UpdateMeterTag",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "5ca646cb-b078-4b73-8bd7-c597b887e120",
              "position": {
                "left": 520,
                "top": 414
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:output",
                    "target": "5ca646cb-b078-4b73-8bd7-c597b887e120:input:trigger"
                  },
                  {
                    "source": "4c92237d-6b39-48eb-e2fa-18ca8d5b8362:output:output",
                    "target": "5ca646cb-b078-4b73-8bd7-c597b887e120:input:start"
                  }
                ],
                "outputs": [
                  {
                    "source": "5ca646cb-b078-4b73-8bd7-c597b887e120:output:data",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:historicalEnergy"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "value",
                  "type": "",
                  "label": "value",
                  "value": "#{input.tenant}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "start",
                  "type": "",
                  "label": "start",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "isodatetime",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "end",
                  "type": "",
                  "label": "end",
                  "value": "#{input.to}",
                  "description": "",
                  "documentation": "",
                  "transformation": "isodatetime",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "bucket",
                  "type": "",
                  "label": "bucket",
                  "value": "1mo",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tag",
                  "type": "",
                  "label": "tag",
                  "value": "tenant",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "energy",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "data",
                  "type": "",
                  "label": "data",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetTotalConsumptionForTag",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "id": "f1a6798e-e237-4976-fc6b-71acb6810097",
              "position": {
                "left": 489,
                "top": 455
              },
              "surface": "GetInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "f16da5f8-755d-49f0-d4fa-c5ec64f23407:output:false",
                    "target": "f1a6798e-e237-4976-fc6b-71acb6810097:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "f1a6798e-e237-4976-fc6b-71acb6810097:output:output",
                    "target": "336dc64c-bdef-46d4-9ad0-195ccfcb6cda:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "c381eaee-66fc-4386-d02a-94e1851c19d4",
              "configuration": "[{\"IsEither\":true,\"Conditions\":[],\"Groups\":[]}]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Queue",
              "type": "queue",
              "id": "90b3b27c-39d1-4b23-d669-54cf261932c2",
              "position": {
                "left": 445,
                "top": 402
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "554f820c-b41d-443c-e4dd-cbe1ef8e8458:output:to",
                    "target": "90b3b27c-39d1-4b23-d669-54cf261932c2:input:Input 01"
                  }
                ],
                "outputs": [
                  {
                    "source": "90b3b27c-39d1-4b23-d669-54cf261932c2:output:output",
                    "target": "2eb90704-81f8-4c7c-daff-026728c349a4:input:__actionlink__"
                  },
                  {
                    "source": "90b3b27c-39d1-4b23-d669-54cf261932c2:output:failed",
                    "target": "ae790df1-0291-46c1-d28c-2d7f9d5e1457:input:__actionlink__"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "Input 01",
                  "type": "",
                  "label": "Input 01",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "actionlink",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "failed",
                  "type": "actionlink",
                  "label": "Failed",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "queueid",
                  "type": "",
                  "label": "Queue Id",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "queue-name": "",
              "retry-count": 3,
              "retry-immediately": false,
              "retry-in": 5,
              "multiple-actors": false,
              "actor-count": 1
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "67da7e0c-5453-4931-e629-c40b57cdede9",
              "position": {
                "left": 291,
                "top": 387
              },
              "surface": "GetAllMeters",
              "connections": {
                "inputs": [
                  {
                    "source": "ba8b82cb-2a5b-48b0-e2a6-b00f663980fe:output:output",
                    "target": "67da7e0c-5453-4931-e629-c40b57cdede9:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "67da7e0c-5453-4931-e629-c40b57cdede9:output:meters",
                    "target": "c733bd9d-9f08-412a-bbc7-477d3138f0d2:input:meters"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "#{input.type}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "meters",
                  "type": "",
                  "label": "meters",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "vmeters",
                  "type": "",
                  "label": "vmeters",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetMeters",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "98b5faa5-004c-43d6-a0a0-e93e464a4c0a",
              "position": {
                "left": 60,
                "top": 60
              },
              "surface": "GetInvoices",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "98b5faa5-004c-43d6-a0a0-e93e464a4c0a:output:tenant",
                    "target": "f16da5f8-755d-49f0-d4fa-c5ec64f23407:input:input1"
                  },
                  {
                    "source": "98b5faa5-004c-43d6-a0a0-e93e464a4c0a:output:tenant",
                    "target": "45be77d7-610d-4270-cb2b-8e4e4a61cc19:input:tenant"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\",\"properties\":{\"invoices\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"id\",\"start\",\"end\",\"status\"]}}},\"required\":[\"invoices\"]}",
              "actionName": "GetInvoices",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "3c0c30ce-c687-4de1-f77d-00605d77f415",
              "position": {
                "left": 1458.9932686941966,
                "top": 146.7120361328125
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [
                  {
                    "source": "9be26018-af97-49a9-b67f-2afb5598bdfe:output:output",
                    "target": "3c0c30ce-c687-4de1-f77d-00605d77f415:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "18525619-0c25-4cb1-cd66-962042fbabc4",
              "position": {
                "left": 740,
                "top": 185
              },
              "surface": "GetMyInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "fd1a72fa-5424-4ec6-d637-865eee653642:output:invoices",
                    "target": "18525619-0c25-4cb1-cd66-962042fbabc4:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": "invoices"
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "5110154b-c5f8-4932-b09d-e49e088d1f64",
              "position": {
                "left": 102,
                "top": 158
              },
              "surface": "GetAllTenants",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "5110154b-c5f8-4932-b09d-e49e088d1f64:output:output",
                    "target": "248e0e12-e72c-4c36-fdf3-2b016e0b20c3:input:trigger"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\",\"properties\":{\"tenants\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenantName\":{\"type\":\"string\"},\"floor\":{\"type\":\"string\"},\"logo\":{\"type\":\"string\"},\"tenantID\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenantName\",\"floor\",\"logo\",\"tenantID\"]}}},\"required\":[\"tenants\"]}",
              "actionName": "GetAllTenants",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Aggregate In Group",
              "type": "aggregategroup",
              "id": "e3e6f7eb-ccdd-4704-cb19-799f3a277454",
              "position": {
                "left": 730,
                "top": 109
              },
              "surface": "GetTenantTags",
              "connections": {
                "inputs": [
                  {
                    "source": "7c7636ce-e9ff-450b-db34-c4abf7fc0176:output:output",
                    "target": "e3e6f7eb-ccdd-4704-cb19-799f3a277454:input:input"
                  }
                ],
                "outputs": [
                  {
                    "source": "e3e6f7eb-ccdd-4704-cb19-799f3a277454:output:output",
                    "target": "ca372cf6-c1ab-4b03-cc4f-5334dd97e37e:input:data"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Input",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "groupBy": "[{\"field\":\"tenant\"}]",
              "aggregateFields": "[{\"field\":\"meter\",\"name\":\"meter\",\"calculation\":\"Count\"},{\"field\":\"budget\",\"name\":\"budget\",\"calculation\":\"Sum\"}]"
            },
            {
              "title": "GenerateID",
              "type": "objectaction:System:GenerateID",
              "id": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7",
              "position": {
                "left": 347,
                "top": 619
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "e18de11d-32f6-4d1c-8968-f3544aa588e4:output:output",
                    "target": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7:output:output",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:id"
                  },
                  {
                    "source": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7:output:output",
                    "target": "12735465-1a98-4ec5-be2b-9839a1ff8bf7:input:value"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "Prefix",
                  "type": "",
                  "label": "Prefix",
                  "value": "UMS",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "Override",
                  "type": "",
                  "label": "Override",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "db26aac8-2863-4580-bcf7-20b11d23eae0",
              "position": {
                "left": 617,
                "top": 494
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7:output:output",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:id"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:invoiceHtml",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:html"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:waterRate",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:waterRate"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:energyRate",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:energyRate"
                  },
                  {
                    "source": "1b778f5c-184b-44cc-d303-f956214d7289:output:taxRate",
                    "target": "db26aac8-2863-4580-bcf7-20b11d23eae0:input:taxRate"
                  }
                ],
                "outputs": [
                  {
                    "source": "db26aac8-2863-4580-bcf7-20b11d23eae0:output:output",
                    "target": "64cbc2bf-91ac-4708-da98-238c7a6e580c:input:trigger"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "energyRate",
                  "type": "",
                  "label": "energyRate",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "waterRate",
                  "type": "",
                  "label": "waterRate",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "taxRate",
                  "type": "",
                  "label": "taxRate",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "html",
                  "type": "",
                  "label": "html",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "Create Invoice Template",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "fd1a72fa-5424-4ec6-d637-865eee653642",
              "position": {
                "left": 442,
                "top": 306
              },
              "surface": "GetMyInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "d0cca203-72a1-43f0-e98a-05fa1907ebcc:output:true",
                    "target": "fd1a72fa-5424-4ec6-d637-865eee653642:input:tenant"
                  }
                ],
                "outputs": [
                  {
                    "source": "fd1a72fa-5424-4ec6-d637-865eee653642:output:invoices",
                    "target": "18525619-0c25-4cb1-cd66-962042fbabc4:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "invoices",
                  "type": "",
                  "label": "invoices",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetInvoices",
              "modelName": "#{modelname}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Delete one document",
              "type": "modelcollections:deleteone",
              "id": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3",
              "position": {
                "left": 319,
                "top": 91
              },
              "surface": "DeleteMeterById",
              "connections": {
                "inputs": [
                  {
                    "source": "1ee03eb0-17c6-4873-e332-d1d72f67065c:output:meterId",
                    "target": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3:input:meterId"
                  },
                  {
                    "source": "1ee03eb0-17c6-4873-e332-d1d72f67065c:output:type",
                    "target": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3:input:type"
                  }
                ],
                "outputs": [
                  {
                    "source": "bcfed15c-f8e9-4be6-e292-d500cf08a1a3:output:output",
                    "target": "1bed6dc0-d28b-4174-ac31-5d170c6bc9ba:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "meterId",
                  "type": "",
                  "label": "meterId",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[{\"IsEither\":false,\"Conditions\":[{\"Attribute\":\"meter\",\"Operator\":\"eq\",\"Value\":\"meterId\",\"IsPin\":true},{\"Attribute\":\"type\",\"Operator\":\"eq\",\"Value\":\"type\",\"IsPin\":true}],\"Groups\":[]}]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "ES6Javascript",
              "type": "es6javascript",
              "id": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1",
              "position": {
                "left": 811,
                "top": 292
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "e793fc98-35e5-47d7-b2fb-f6e96291a31d:output:to",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:start"
                  },
                  {
                    "source": "5ca646cb-b078-4b73-8bd7-c597b887e120:output:data",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:historicalEnergy"
                  },
                  {
                    "source": "c25b8483-7f35-4e49-a445-317f009bdaa1:output:data",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:historicalWater"
                  },
                  {
                    "source": "19244a28-3424-4a52-8657-42def85eb829:output:tenant",
                    "target": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:input:tenant"
                  }
                ],
                "outputs": [
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:start",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:start"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:end",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:end"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:energyTag",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:energyTag"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:waterTag",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:waterTag"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:parameters",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:parameters"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:template",
                    "target": "b51171ed-930b-43c6-83eb-37cd71690184:input:template"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:end",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:end"
                  },
                  {
                    "source": "b6adfcc4-7c19-4a8e-a1a2-22923451e5c1:output:start",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:start"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "start",
                  "type": "",
                  "label": "start",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "isodatetime",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "historicalEnergy",
                  "type": "",
                  "label": "historicalEnergy",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "historicalWater",
                  "type": "",
                  "label": "historicalWater",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "start",
                  "type": "",
                  "label": "start",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "end",
                  "type": "",
                  "label": "end",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "energyTag",
                  "type": "",
                  "label": "energyTag",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "waterTag",
                  "type": "",
                  "label": "waterTag",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "parameters",
                  "type": "",
                  "label": "parameters",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "template",
                  "type": "",
                  "label": "template",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "description": "",
              "code": "async function main() {\n    let {tenant,start,historicalEnergy,historicalWater} = runtime.inputs();\n    if (!(tenant || !tenant.tenantID) )throw 'Invalid tenant';\n    let toDate = new Date(start);\n    let fromDate = new Date(toDate);\n    if (typeof historicalEnergy == 'string') {\n        historicalEnergy = [];\n    }\n    if (typeof historicalWater == 'string') {\n        historicalWater = [];\n    }\n\n    historicalEnergy = historicalEnergy || [];\n    historicalWater = historicalWater || [];\n\n\n    let he = JSON.stringify(historicalEnergy.map((x)=>({...x,time:new Date(x.time).toISOString()})));\n\n    let hw = JSON.stringify(historicalWater.map((x)=>({...x,time:new Date(x.time).toISOString()})));\n    fromDate.setMonth(toDate.getMonth()-1);\n\n    let c = lucy.currentModel().collections();\n    let item = await c.findOne('invoices',{tenant:tenant.tenantID},{sort:{end:-1}});\n    let lastInvoiceDate = null;\n    if (item) {\n        lastInvoiceDate = item.end;\n    }\n    if (!lastInvoiceDate) {\n        // use default fromDate\n    } else {\n        fromDate = new Date(lastInvoiceDate);\n        //is this required?\n        fromDate.setMilliseconds(fromDate.getMilliseconds()+1);\n    }\n    if (toDate < fromDate) {\n        var error = 'The invoice end date is less than the start date';\n        if (lastInvoiceDate) error =  'The invoice end date is before the last invoice end date ('+lastInvoiceDate+')';\n        throw error;\n    }\n    let settings = await c.findOne('global',{},{});\n    let template = settings.invoiceId;\n    if (!template) throw 'No invoice template was configured';\n    return {start:fromDate.toISOString(),end:toDate.toISOString(),\n    energyTag:tenant.tenantID,\n    waterTag:tenant.tenantID,\n    parameters:{\n        tenant:JSON.stringify(tenant),\n        energy:he,\n        water:hw,\n        tenantID:tenant.tenantID,\n        tenantName:tenant.tenantName,\n        },\n    template,\n    }\n\n}\nmain().then(runtime.done).catch(runtime.error);",
              "timeoutMilliseconds": 5000
            },
            {
              "title": "Update one document",
              "type": "modelcollections:updateone",
              "id": "809f5854-302a-4195-8b3d-4dda450c668f",
              "position": {
                "left": 713,
                "top": 325
              },
              "surface": "EditInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:output:result",
                    "target": "809f5854-302a-4195-8b3d-4dda450c668f:input:invoice"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "#{input.invoice}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "invoice",
                  "type": "",
                  "label": "invoice",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "__data__",
                  "type": "text",
                  "label": "Data",
                  "value": "",
                  "description": "Data to be inserted",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "c381eaee-66fc-4386-d02a-94e1851c19d4",
              "configuration": "[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"id\",\"Operator\":\"eq\",\"Value\":\"id\",\"IsPin\":true}],\"Groups\":[]}]",
              "UpdateAsAttributes": true,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Merge Data",
              "type": "mergedata",
              "id": "12735465-1a98-4ec5-be2b-9839a1ff8bf7",
              "position": {
                "left": 705,
                "top": 160
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "282fdc48-2a68-46a5-85c4-4560fb068676:output:output",
                    "target": "12735465-1a98-4ec5-be2b-9839a1ff8bf7:input:input"
                  },
                  {
                    "source": "63da1d89-de2e-41f4-e43e-16f91bf8c5b7:output:output",
                    "target": "12735465-1a98-4ec5-be2b-9839a1ff8bf7:input:value"
                  }
                ],
                "outputs": [
                  {
                    "source": "12735465-1a98-4ec5-be2b-9839a1ff8bf7:output:output",
                    "target": "64cbc2bf-91ac-4708-da98-238c7a6e580c:input:__data__"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Input",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "key",
                  "type": "",
                  "label": "Name",
                  "value": "invoiceId",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "value",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "Action",
              "type": "linkedactionstart",
              "id": "fea0beb6-262f-45e4-9518-3a843b8207e8",
              "position": {
                "left": 1753,
                "top": 350
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "0a8aab85-0891-4e6f-87a1-aec2b1fc36aa:output:action",
                    "target": "fea0beb6-262f-45e4-9518-3a843b8207e8:input:__actionlink__"
                  }
                ],
                "outputs": [
                  {
                    "source": "fea0beb6-262f-45e4-9518-3a843b8207e8:output:tenant",
                    "target": "4ead965e-2879-4892-b7f4-4ee6ceeb2ebf:input:tenant"
                  },
                  {
                    "source": "fea0beb6-262f-45e4-9518-3a843b8207e8:output:Extra",
                    "target": "4ead965e-2879-4892-b7f4-4ee6ceeb2ebf:input:to"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "__actionlink__",
                  "type": "actionlink",
                  "label": "",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "Extra",
                  "type": "",
                  "label": "Extra",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "",
              "initiate": false,
              "published": false,
              "debug": true,
              "roles": [],
              "static": true
            },
            {
              "title": "Parse JSON",
              "type": "parsejson",
              "id": "282fdc48-2a68-46a5-85c4-4560fb068676",
              "position": {
                "left": 396,
                "top": 219
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "e18de11d-32f6-4d1c-8968-f3544aa588e4:output:settings",
                    "target": "282fdc48-2a68-46a5-85c4-4560fb068676:input:input"
                  }
                ],
                "outputs": [
                  {
                    "source": "282fdc48-2a68-46a5-85c4-4560fb068676:output:output",
                    "target": "12735465-1a98-4ec5-be2b-9839a1ff8bf7:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Input",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "336dc64c-bdef-46d4-9ad0-195ccfcb6cda",
              "position": {
                "left": 672,
                "top": 322
              },
              "surface": "GetInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "45be77d7-610d-4270-cb2b-8e4e4a61cc19:output:output",
                    "target": "336dc64c-bdef-46d4-9ad0-195ccfcb6cda:input:input"
                  },
                  {
                    "source": "f1a6798e-e237-4976-fc6b-71acb6810097:output:output",
                    "target": "336dc64c-bdef-46d4-9ad0-195ccfcb6cda:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": "invoices"
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "ba8b82cb-2a5b-48b0-e2a6-b00f663980fe",
              "position": {
                "left": 59,
                "top": 155
              },
              "surface": "GetAllMeters",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "ba8b82cb-2a5b-48b0-e2a6-b00f663980fe:output:output",
                    "target": "67da7e0c-5453-4931-e629-c40b57cdede9:input:trigger"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}}",
              "actionName": "GetAllMeters",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "248e0e12-e72c-4c36-fdf3-2b016e0b20c3",
              "position": {
                "left": 389,
                "top": 121
              },
              "surface": "GetAllTenants",
              "connections": {
                "inputs": [
                  {
                    "source": "5110154b-c5f8-4932-b09d-e49e088d1f64:output:output",
                    "target": "248e0e12-e72c-4c36-fdf3-2b016e0b20c3:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "248e0e12-e72c-4c36-fdf3-2b016e0b20c3:output:tenants",
                    "target": "97fb64fc-c022-4d71-daba-b7c52a8bab98:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "tenants",
                  "type": "",
                  "label": "tenants",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "GetAllTenants",
              "modelName": "#{model.tenant}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "id": "45be77d7-610d-4270-cb2b-8e4e4a61cc19",
              "position": {
                "left": 486,
                "top": 117
              },
              "surface": "GetInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "f16da5f8-755d-49f0-d4fa-c5ec64f23407:output:true",
                    "target": "45be77d7-610d-4270-cb2b-8e4e4a61cc19:input:trigger"
                  },
                  {
                    "source": "98b5faa5-004c-43d6-a0a0-e93e464a4c0a:output:tenant",
                    "target": "45be77d7-610d-4270-cb2b-8e4e4a61cc19:input:tenant"
                  }
                ],
                "outputs": [
                  {
                    "source": "45be77d7-610d-4270-cb2b-8e4e4a61cc19:output:output",
                    "target": "336dc64c-bdef-46d4-9ad0-195ccfcb6cda:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenant",
                  "type": "",
                  "label": "tenant",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "c381eaee-66fc-4386-d02a-94e1851c19d4",
              "configuration": "[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"tenant\",\"Operator\":\"eq\",\"Value\":\"tenant\",\"IsPin\":true},{\"Attribute\":\"tenant\",\"Operator\":\"eq\",\"Value\":\"\",\"IsPin\":false}],\"Groups\":[]}]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "CallAction",
              "type": "callaction",
              "id": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7",
              "position": {
                "left": 453,
                "top": 273
              },
              "surface": "EditInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "95c04cde-c06c-49df-e621-d3468ad85543:output:invoice",
                    "target": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:input:id"
                  },
                  {
                    "source": "95c04cde-c06c-49df-e621-d3468ad85543:output:discount",
                    "target": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:input:discount"
                  }
                ],
                "outputs": [
                  {
                    "source": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:output:result",
                    "target": "809f5854-302a-4195-8b3d-4dda450c668f:input:invoice"
                  },
                  {
                    "source": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:output:result",
                    "target": "2e818b2e-8a2b-4914-b80b-73d2882f4840:input:input"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "instance",
                  "type": "",
                  "label": "Instance",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "discount",
                  "type": "",
                  "label": "discount",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "result",
                  "type": "",
                  "label": "result",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "actionName": "Edit Invoice",
              "modelName": "#{model.ums}",
              "isCachingEnabled": false,
              "cacheTime": "",
              "shouldCacheByUser": false,
              "shouldCacheErrorResults": false
            },
            {
              "title": "Output",
              "type": "actionoutput2",
              "id": "e1b35b36-c31e-47ef-95eb-5b528893290f",
              "position": {
                "left": 1225,
                "top": 175
              },
              "surface": "GetTenantTags",
              "connections": {
                "inputs": [
                  {
                    "source": "ca372cf6-c1ab-4b03-cc4f-5334dd97e37e:output:output",
                    "target": "e1b35b36-c31e-47ef-95eb-5b528893290f:input:input"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Value",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [],
              "fieldName": ""
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "c295e3e9-f29d-4954-c349-04eaa0dfb154",
              "position": {
                "left": 60,
                "top": 60
              },
              "surface": "UpdateInvoiceStatus",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "c295e3e9-f29d-4954-c349-04eaa0dfb154:output:status",
                    "target": "24931a55-285e-4e61-a277-38489389e0fd:input:status"
                  },
                  {
                    "source": "c295e3e9-f29d-4954-c349-04eaa0dfb154:output:invoice",
                    "target": "24931a55-285e-4e61-a277-38489389e0fd:input:id"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "invoice",
                  "type": "",
                  "label": "invoice",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "status",
                  "type": "",
                  "label": "status",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "",
              "actionName": "UpdateInvoiceStatus",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Exists",
              "type": "exists",
              "id": "f16da5f8-755d-49f0-d4fa-c5ec64f23407",
              "position": {
                "left": 213,
                "top": 347
              },
              "surface": "GetInvoices",
              "connections": {
                "inputs": [
                  {
                    "source": "98b5faa5-004c-43d6-a0a0-e93e464a4c0a:output:tenant",
                    "target": "f16da5f8-755d-49f0-d4fa-c5ec64f23407:input:input1"
                  }
                ],
                "outputs": [
                  {
                    "source": "f16da5f8-755d-49f0-d4fa-c5ec64f23407:output:true",
                    "target": "45be77d7-610d-4270-cb2b-8e4e4a61cc19:input:trigger"
                  },
                  {
                    "source": "f16da5f8-755d-49f0-d4fa-c5ec64f23407:output:false",
                    "target": "f1a6798e-e237-4976-fc6b-71acb6810097:input:trigger"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input1",
                  "type": "",
                  "label": "Input 1",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "true",
                  "type": "",
                  "label": "True",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "false",
                  "type": "",
                  "label": "False",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "Extract Multiple Values",
              "type": "extractmultiplevalues",
              "id": "23365077-e072-4496-d3b2-428ba5eb35e3",
              "position": {
                "left": 1638,
                "top": 407
              },
              "surface": "GenerateInvoice",
              "connections": {
                "inputs": [
                  {
                    "source": "b51171ed-930b-43c6-83eb-37cd71690184:output:result",
                    "target": "23365077-e072-4496-d3b2-428ba5eb35e3:input:input"
                  }
                ],
                "outputs": [
                  {
                    "source": "23365077-e072-4496-d3b2-428ba5eb35e3:output:invoice_id",
                    "target": "b1f6d9fc-1279-4b16-d034-99fb361afacb:input:id"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input",
                  "type": "",
                  "label": "Input",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "id",
                  "type": "",
                  "label": "id",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "invoice_id",
                  "type": "",
                  "label": "invoice_id",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "ES6Javascript",
              "type": "es6javascript",
              "id": "3c4c93e1-dac9-4f24-d876-dc5a5d1fd380",
              "position": {
                "left": 693.5714285714287,
                "top": 118.57142857142858
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [
                  {
                    "source": "82417937-e57e-4997-bb1c-2382b9faa735:output:output",
                    "target": "3c4c93e1-dac9-4f24-d876-dc5a5d1fd380:input:meters"
                  }
                ],
                "outputs": [
                  {
                    "source": "3c4c93e1-dac9-4f24-d876-dc5a5d1fd380:output:existed",
                    "target": "c1244cc7-cc41-4698-8847-1d341e2aaf71:input:input1"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "meters",
                  "type": "",
                  "label": "meters",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "existed",
                  "type": "",
                  "label": "existed",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "description": "",
              "code": "const meters = runtime.inputs().meters;\r\n\r\nruntime.done({ existed: meters.length })",
              "timeoutMilliseconds": 5000
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "9772c122-6256-47e4-c0cc-39aa5804fb8b",
              "position": {
                "left": 60,
                "top": 60
              },
              "surface": "GetTenantTags",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "9772c122-6256-47e4-c0cc-39aa5804fb8b:output:output",
                    "target": "7c7636ce-e9ff-450b-db34-c4abf7fc0176:input:trigger"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"meter\":{\"type\":\"integer\"},\"budget\":{\"type\":\"integer\"},\"value\":{\"type\":\"string\"},\"tag\":{\"type\":\"string\"},\"label\":{\"type\":\"string\"}},\"required\":[\"meter\",\"budget\",\"value\",\"tag\",\"label\"]}}",
              "actionName": "GetTenantTags",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Delete one document",
              "type": "modelcollections:deleteone",
              "id": "bce39b64-b773-48f2-fc7a-5db6a3d2f735",
              "position": {
                "left": 398,
                "top": 173
              },
              "surface": "DeleteMeterForTenant",
              "connections": {
                "inputs": [
                  {
                    "source": "a959df68-e15f-474b-883e-403040c4c185:output:meterId",
                    "target": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:input:meterId"
                  },
                  {
                    "source": "a959df68-e15f-474b-883e-403040c4c185:output:tenantId",
                    "target": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:input:tenantId"
                  },
                  {
                    "source": "a959df68-e15f-474b-883e-403040c4c185:output:type",
                    "target": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:input:type"
                  }
                ],
                "outputs": [
                  {
                    "source": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:output:output",
                    "target": "5b2531e1-7fd5-4e2a-f311-d00dbde035db:input:input"
                  },
                  {
                    "source": "bce39b64-b773-48f2-fc7a-5db6a3d2f735:output:output",
                    "target": "e2d5a3a1-b0f5-41db-ccc6-b5528db705b0:input:trigger"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "meterId",
                  "type": "",
                  "label": "meterId",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "tenantId",
                  "type": "",
                  "label": "tenantId",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[{\"IsEither\":false,\"Conditions\":[{\"Attribute\":\"tenant\",\"Operator\":\"eq\",\"Value\":\"tenantId\",\"IsPin\":true},{\"Attribute\":\"meter\",\"Operator\":\"eq\",\"Value\":\"meterId\",\"IsPin\":true},{\"Attribute\":\"type\",\"Operator\":\"eq\",\"Value\":\"type\",\"IsPin\":true}],\"Groups\":[]}]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Update one document",
              "type": "modelcollections:updateone",
              "id": "64cbc2bf-91ac-4708-da98-238c7a6e580c",
              "position": {
                "left": 863,
                "top": 373
              },
              "surface": "SaveGlobalSettings",
              "connections": {
                "inputs": [
                  {
                    "source": "12735465-1a98-4ec5-be2b-9839a1ff8bf7:output:output",
                    "target": "64cbc2bf-91ac-4708-da98-238c7a6e580c:input:__data__"
                  },
                  {
                    "source": "db26aac8-2863-4580-bcf7-20b11d23eae0:output:output",
                    "target": "64cbc2bf-91ac-4708-da98-238c7a6e580c:input:trigger"
                  }
                ],
                "outputs": []
              },
              "inputValues": [
                {
                  "id": "__data__",
                  "type": "text",
                  "label": "Data",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "a396c00d-db4e-4a21-ca2a-173cf03f177d",
              "configuration": "[]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            },
            {
              "title": "Equals",
              "type": "equals",
              "id": "c1244cc7-cc41-4698-8847-1d341e2aaf71",
              "position": {
                "left": 1005.2745710100447,
                "top": 114.99328613281251
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [
                  {
                    "source": "3c4c93e1-dac9-4f24-d876-dc5a5d1fd380:output:existed",
                    "target": "c1244cc7-cc41-4698-8847-1d341e2aaf71:input:input1"
                  }
                ],
                "outputs": [
                  {
                    "source": "c1244cc7-cc41-4698-8847-1d341e2aaf71:output:true",
                    "target": "9be26018-af97-49a9-b67f-2afb5598bdfe:input:trigger"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "input1",
                  "type": "",
                  "label": "Input 1",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "int",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "input2",
                  "type": "",
                  "label": "Input 2",
                  "value": "0",
                  "description": "",
                  "documentation": "",
                  "transformation": "int",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "false",
                  "type": "",
                  "label": "False",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "true",
                  "type": "",
                  "label": "True",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ]
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "554f820c-b41d-443c-e4dd-cbe1ef8e8458",
              "position": {
                "left": 218,
                "top": 346
              },
              "surface": "GenerateAllInvoices",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "554f820c-b41d-443c-e4dd-cbe1ef8e8458:output:to",
                    "target": "90b3b27c-39d1-4b23-d669-54cf261932c2:input:Input 01"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "to",
                  "type": "",
                  "label": "to",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\"}",
              "actionName": "GenerateAllInvoices",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Action",
              "type": "actionstart",
              "id": "95c04cde-c06c-49df-e621-d3468ad85543",
              "position": {
                "left": 112,
                "top": 278
              },
              "surface": "EditInvoice",
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "95c04cde-c06c-49df-e621-d3468ad85543:output:invoice",
                    "target": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:input:id"
                  },
                  {
                    "source": "95c04cde-c06c-49df-e621-d3468ad85543:output:discount",
                    "target": "b2d27d76-aa1c-4edf-d3da-a1cc79bc15e7:input:discount"
                  }
                ]
              },
              "inputValues": [],
              "outputValues": [
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "invoice",
                  "type": "",
                  "label": "invoice",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "discount",
                  "type": "",
                  "label": "discount",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "canOverrideCredentials": false,
              "schema": "{\"type\":\"object\",\"properties\":{\"result\":{\"type\":\"object\",\"properties\":{\"template\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"tagName\":{\"type\":\"string\"},\"consumption\":{\"type\":\"number\"}},\"required\":[\"type\",\"value\",\"tagName\",\"consumption\"]}},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"parameters\":{\"type\":\"object\",\"properties\":{\"total\":{\"type\":\"number\"}},\"required\":[\"total\"]},\"metadata\":{\"type\":\"object\",\"properties\":{\"rates\":{\"type\":\"object\",\"properties\":{\"energy\":{\"type\":\"number\"},\"water\":{\"type\":\"number\"}},\"required\":[\"energy\",\"water\"]},\"tax\":{\"type\":\"number\"}},\"required\":[\"rates\",\"tax\"]},\"invoice_id\":{\"type\":\"string\"},\"totalConsumption\":{\"type\":\"number\"},\"total\":{\"type\":\"number\"},\"onlyTotal\":{\"type\":\"number\"},\"discount\":{\"type\":\"number\"},\"status\":{\"type\":\"string\"},\"created\":{\"type\":\"string\"},\"updated\":{\"type\":\"null\"},\"url\":{\"type\":\"string\"}},\"required\":[\"template\",\"tags\",\"start\",\"end\",\"parameters\",\"metadata\",\"invoice_id\",\"totalConsumption\",\"total\",\"onlyTotal\",\"discount\",\"status\",\"created\",\"updated\",\"url\"]}},\"required\":[\"result\"]}",
              "actionName": "EditInvoice",
              "preProcessService": "",
              "published": false,
              "static": true,
              "debug": false,
              "capability": "",
              "initiate": false,
              "docs": "",
              "roles": []
            },
            {
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "id": "82417937-e57e-4997-bb1c-2382b9faa735",
              "position": {
                "left": 403,
                "top": 88
              },
              "surface": "AddMeter",
              "connections": {
                "inputs": [
                  {
                    "source": "637b93f0-870c-416c-99b1-f686a1f459d7:output:meterId",
                    "target": "82417937-e57e-4997-bb1c-2382b9faa735:input:meterId"
                  }
                ],
                "outputs": [
                  {
                    "source": "82417937-e57e-4997-bb1c-2382b9faa735:output:output",
                    "target": "3c4c93e1-dac9-4f24-d876-dc5a5d1fd380:input:meters"
                  }
                ]
              },
              "inputValues": [
                {
                  "id": "meterId",
                  "type": "",
                  "label": "meterId",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "trigger",
                  "type": "",
                  "label": "Trigger",
                  "value": "",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                },
                {
                  "id": "type",
                  "type": "",
                  "label": "type",
                  "value": "#{input.type}",
                  "description": "",
                  "documentation": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "disablelog": ""
                }
              ],
              "outputValues": [
                {
                  "id": "__error__",
                  "type": "error",
                  "label": "Error",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                },
                {
                  "id": "output",
                  "type": "",
                  "label": "All Output",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "dataType": ""
                }
              ],
              "CollectionName": "e637e007-1c6a-47b6-bc07-6f313791bd11",
              "configuration": "[{\"IsEither\":false,\"Conditions\":[{\"Attribute\":\"meter\",\"Operator\":\"eq\",\"Value\":\"meterId\",\"IsPin\":true},{\"Attribute\":\"type\",\"Operator\":\"eq\",\"Value\":\"type\",\"IsPin\":true}],\"Groups\":[]}]",
              "UpdateAsAttributes": false,
              "ReceiveIndividualFields": false,
              "TakeFilterFromPin": false,
              "timeout": 5000
            }
          ],
          "position": {
            "top": 0,
            "left": 0
          }
        },
        "sources": [
          {
            "name": "SaveGlobalSettings",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\"}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [],
            "parameters": [
              "settings"
            ],
            "parametersExtended": [
              {
                "id": "settings",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "AddMeter",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\"}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "budget",
              "meterId",
              "tenantId",
              "type"
            ],
            "parametersExtended": [
              {
                "id": "budget",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "meterId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "tenantId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "EditInvoice",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"result\":{\"type\":\"object\",\"properties\":{\"template\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"tagName\":{\"type\":\"string\"},\"consumption\":{\"type\":\"number\"}},\"required\":[\"type\",\"value\",\"tagName\",\"consumption\"]}},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"parameters\":{\"type\":\"object\",\"properties\":{\"total\":{\"type\":\"number\"}},\"required\":[\"total\"]},\"metadata\":{\"type\":\"object\",\"properties\":{\"rates\":{\"type\":\"object\",\"properties\":{\"energy\":{\"type\":\"number\"},\"water\":{\"type\":\"number\"}},\"required\":[\"energy\",\"water\"]},\"tax\":{\"type\":\"number\"}},\"required\":[\"rates\",\"tax\"]},\"invoice_id\":{\"type\":\"string\"},\"totalConsumption\":{\"type\":\"number\"},\"total\":{\"type\":\"number\"},\"onlyTotal\":{\"type\":\"number\"},\"discount\":{\"type\":\"number\"},\"status\":{\"type\":\"string\"},\"created\":{\"type\":\"string\"},\"updated\":{\"type\":\"null\"},\"url\":{\"type\":\"string\"}},\"required\":[\"template\",\"tags\",\"start\",\"end\",\"parameters\",\"metadata\",\"invoice_id\",\"totalConsumption\",\"total\",\"onlyTotal\",\"discount\",\"status\",\"created\",\"updated\",\"url\"]}},\"required\":[\"result\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "result"
            ],
            "parameters": [
              "invoice",
              "discount"
            ],
            "parametersExtended": [
              {
                "id": "invoice",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "discount",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "DeleteMeterById",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "meterId",
              "type"
            ],
            "parametersExtended": [
              {
                "id": "meterId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetAllTenants",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"tenants\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenantName\":{\"type\":\"string\"},\"floor\":{\"type\":\"string\"},\"logo\":{\"type\":\"string\"},\"tenantID\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenantName\",\"floor\",\"logo\",\"tenantID\"]}}},\"required\":[\"tenants\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "tenants"
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GetAllMeters",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "type"
            ],
            "parametersExtended": [
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetMyInvoices",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"invoices\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"id\",\"start\",\"end\",\"status\"]}}},\"required\":[\"invoices\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "invoices"
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GetInvoice",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "id"
            ],
            "parametersExtended": [
              {
                "id": "id"
              }
            ]
          },
          {
            "name": "GetAllRegisteredMeters",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"meter\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"meter\"]}}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GenerateInvoice",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"result\":{\"type\":\"object\",\"properties\":{\"template\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"tagName\":{\"type\":\"string\"},\"consumption\":{\"type\":\"number\"}},\"required\":[\"type\",\"value\",\"tagName\",\"consumption\"]}},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"parameters\":{\"type\":\"object\",\"properties\":{\"tenant\":{\"type\":\"string\"},\"energy\":{\"type\":\"string\"},\"water\":{\"type\":\"string\"},\"tenantID\":{\"type\":\"string\"},\"tenantName\":{\"type\":\"string\"},\"total\":{\"type\":\"number\"}},\"required\":[\"tenant\",\"energy\",\"water\",\"tenantID\",\"tenantName\",\"total\"]},\"metadata\":{\"type\":\"object\",\"properties\":{\"rates\":{\"type\":\"object\",\"properties\":{\"energy\":{\"type\":\"number\"},\"water\":{\"type\":\"number\"}},\"required\":[\"energy\",\"water\"]},\"tax\":{\"type\":\"number\"}},\"required\":[\"rates\",\"tax\"]},\"invoice_id\":{\"type\":\"string\"},\"totalConsumption\":{\"type\":\"number\"},\"total\":{\"type\":\"number\"},\"onlyTotal\":{\"type\":\"number\"},\"discount\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"},\"created\":{\"type\":\"string\"},\"updated\":{\"type\":\"null\"}},\"required\":[\"template\",\"tags\",\"start\",\"end\",\"parameters\",\"metadata\",\"invoice_id\",\"totalConsumption\",\"total\",\"onlyTotal\",\"discount\",\"status\",\"created\",\"updated\"]}},\"required\":[\"result\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "result"
            ],
            "parameters": [
              "tenant",
              "to"
            ],
            "parametersExtended": [
              {
                "id": "tenant",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "to",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetGlobalSettings",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"settings\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"energyRate\":{\"type\":\"number\"},\"waterRate\":{\"type\":\"number\"},\"invoiceHtml\":{\"type\":\"string\"},\"taxRate\":{\"type\":\"number\"}},\"required\":[\"_id\",\"energyRate\",\"waterRate\",\"invoiceHtml\",\"taxRate\"]}},\"required\":[\"settings\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "settings"
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GetInvoices",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"invoices\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"id\",\"start\",\"end\",\"status\"]}}},\"required\":[\"invoices\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "invoices"
            ],
            "parameters": [
              "tenant"
            ],
            "parametersExtended": [
              {
                "id": "tenant",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "UpdateInvoiceStatus",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [],
            "parameters": [
              "invoice",
              "status"
            ],
            "parametersExtended": [
              {
                "id": "invoice",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "status",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetTenantTags",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"meter\":{\"type\":\"integer\"},\"budget\":{\"type\":\"integer\"},\"value\":{\"type\":\"string\"},\"tag\":{\"type\":\"string\"},\"label\":{\"type\":\"string\"}},\"required\":[\"meter\",\"budget\",\"value\",\"tag\",\"label\"]}}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GenerateAllInvoices",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\"}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [],
            "parameters": [
              "to"
            ],
            "parametersExtended": [
              {
                "id": "to",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "DeleteMeterForTenant",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "meterId",
              "tenantId",
              "type"
            ],
            "parametersExtended": [
              {
                "id": "meterId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "tenantId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          }
        ],
        "actions": [
          {
            "name": "SaveGlobalSettings",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\"}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [],
            "parameters": [
              "settings"
            ],
            "parametersExtended": [
              {
                "id": "settings",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "AddMeter",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\"}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "budget",
              "meterId",
              "tenantId",
              "type"
            ],
            "parametersExtended": [
              {
                "id": "budget",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "meterId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "tenantId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "EditInvoice",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"result\":{\"type\":\"object\",\"properties\":{\"template\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"tagName\":{\"type\":\"string\"},\"consumption\":{\"type\":\"number\"}},\"required\":[\"type\",\"value\",\"tagName\",\"consumption\"]}},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"parameters\":{\"type\":\"object\",\"properties\":{\"total\":{\"type\":\"number\"}},\"required\":[\"total\"]},\"metadata\":{\"type\":\"object\",\"properties\":{\"rates\":{\"type\":\"object\",\"properties\":{\"energy\":{\"type\":\"number\"},\"water\":{\"type\":\"number\"}},\"required\":[\"energy\",\"water\"]},\"tax\":{\"type\":\"number\"}},\"required\":[\"rates\",\"tax\"]},\"invoice_id\":{\"type\":\"string\"},\"totalConsumption\":{\"type\":\"number\"},\"total\":{\"type\":\"number\"},\"onlyTotal\":{\"type\":\"number\"},\"discount\":{\"type\":\"number\"},\"status\":{\"type\":\"string\"},\"created\":{\"type\":\"string\"},\"updated\":{\"type\":\"null\"},\"url\":{\"type\":\"string\"}},\"required\":[\"template\",\"tags\",\"start\",\"end\",\"parameters\",\"metadata\",\"invoice_id\",\"totalConsumption\",\"total\",\"onlyTotal\",\"discount\",\"status\",\"created\",\"updated\",\"url\"]}},\"required\":[\"result\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "result"
            ],
            "parameters": [
              "invoice",
              "discount"
            ],
            "parametersExtended": [
              {
                "id": "invoice",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "discount",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "DeleteMeterById",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "meterId",
              "type"
            ],
            "parametersExtended": [
              {
                "id": "meterId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetAllTenants",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"tenants\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenantName\":{\"type\":\"string\"},\"floor\":{\"type\":\"string\"},\"logo\":{\"type\":\"string\"},\"tenantID\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenantName\",\"floor\",\"logo\",\"tenantID\"]}}},\"required\":[\"tenants\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "tenants"
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GetAllMeters",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\"]}}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "type"
            ],
            "parametersExtended": [
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetMyInvoices",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"invoices\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"id\",\"start\",\"end\",\"status\"]}}},\"required\":[\"invoices\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "invoices"
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GetInvoice",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "id"
            ],
            "parametersExtended": [
              {
                "id": "id"
              }
            ]
          },
          {
            "name": "GetAllRegisteredMeters",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"meter\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"meter\"]}}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GenerateInvoice",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"result\":{\"type\":\"object\",\"properties\":{\"template\":{\"type\":\"string\"},\"tags\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"},\"tagName\":{\"type\":\"string\"},\"consumption\":{\"type\":\"number\"}},\"required\":[\"type\",\"value\",\"tagName\",\"consumption\"]}},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"parameters\":{\"type\":\"object\",\"properties\":{\"tenant\":{\"type\":\"string\"},\"energy\":{\"type\":\"string\"},\"water\":{\"type\":\"string\"},\"tenantID\":{\"type\":\"string\"},\"tenantName\":{\"type\":\"string\"},\"total\":{\"type\":\"number\"}},\"required\":[\"tenant\",\"energy\",\"water\",\"tenantID\",\"tenantName\",\"total\"]},\"metadata\":{\"type\":\"object\",\"properties\":{\"rates\":{\"type\":\"object\",\"properties\":{\"energy\":{\"type\":\"number\"},\"water\":{\"type\":\"number\"}},\"required\":[\"energy\",\"water\"]},\"tax\":{\"type\":\"number\"}},\"required\":[\"rates\",\"tax\"]},\"invoice_id\":{\"type\":\"string\"},\"totalConsumption\":{\"type\":\"number\"},\"total\":{\"type\":\"number\"},\"onlyTotal\":{\"type\":\"number\"},\"discount\":{\"type\":\"integer\"},\"status\":{\"type\":\"string\"},\"created\":{\"type\":\"string\"},\"updated\":{\"type\":\"null\"}},\"required\":[\"template\",\"tags\",\"start\",\"end\",\"parameters\",\"metadata\",\"invoice_id\",\"totalConsumption\",\"total\",\"onlyTotal\",\"discount\",\"status\",\"created\",\"updated\"]}},\"required\":[\"result\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "result"
            ],
            "parameters": [
              "tenant",
              "to"
            ],
            "parametersExtended": [
              {
                "id": "tenant",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "to",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetGlobalSettings",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"settings\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"energyRate\":{\"type\":\"number\"},\"waterRate\":{\"type\":\"number\"},\"invoiceHtml\":{\"type\":\"string\"},\"taxRate\":{\"type\":\"number\"}},\"required\":[\"_id\",\"energyRate\",\"waterRate\",\"invoiceHtml\",\"taxRate\"]}},\"required\":[\"settings\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "settings"
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GetInvoices",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\",\"properties\":{\"invoices\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\"},\"tenant\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"start\":{\"type\":\"string\"},\"end\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"required\":[\"_id\",\"tenant\",\"id\",\"start\",\"end\",\"status\"]}}},\"required\":[\"invoices\"]}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              "invoices"
            ],
            "parameters": [
              "tenant"
            ],
            "parametersExtended": [
              {
                "id": "tenant",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "UpdateInvoiceStatus",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [],
            "parameters": [
              "invoice",
              "status"
            ],
            "parametersExtended": [
              {
                "id": "invoice",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "status",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "GetTenantTags",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"meter\":{\"type\":\"integer\"},\"budget\":{\"type\":\"integer\"},\"value\":{\"type\":\"string\"},\"tag\":{\"type\":\"string\"},\"label\":{\"type\":\"string\"}},\"required\":[\"meter\",\"budget\",\"value\",\"tag\",\"label\"]}}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [],
            "parametersExtended": []
          },
          {
            "name": "GenerateAllInvoices",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "{\"type\":\"object\"}",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [],
            "parameters": [
              "to"
            ],
            "parametersExtended": [
              {
                "id": "to",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          },
          {
            "name": "DeleteMeterForTenant",
            "published": false,
            "static": true,
            "initiate": false,
            "canOverrideCredentials": false,
            "schema": "",
            "capability": "",
            "schemaFrozen": false,
            "docs": "",
            "outputs": [
              ""
            ],
            "parameters": [
              "meterId",
              "tenantId",
              "type"
            ],
            "parametersExtended": [
              {
                "id": "meterId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "tenantId",
                "docs": "",
                "example": "",
                "dataType": ""
              },
              {
                "id": "type",
                "docs": "",
                "example": "",
                "dataType": ""
              }
            ]
          }
        ],
        "uioptions": {}
      },
      "UIDefinition": null,
      "MetadataDictionary": "{\"parameters\":[{\"id\":\"tenant\",\"label\":\"Tenant Provider\",\"type\":\"model\",\"subtype\":\"tenant-provider\"},{\"id\":\"ums\",\"label\":\"UMS Provider\",\"type\":\"model\",\"subtype\":\"ums-provider\"}],\"tags\":[],\"capabilities\":[],\"onSave\":\"\"}",
      "Icon": "",
      "ApiRoutes": [],
      "JSModules": [],
      "ModelCollections": [
        {
          "MapKey": "44",
          "GUID": "4b7d9d99-ce9c-4426-b8b6-9a7137a2704d",
          "Attributes": "[{\"name\":\"name\",\"dataType\":\"string\"},{\"name\":\"id\",\"dataType\":\"string\"},{\"name\":\"type\",\"dataType\":\"string\"}]",
          "Name": "meters"
        },
        {
          "MapKey": "44",
          "GUID": "e637e007-1c6a-47b6-bc07-6f313791bd11",
          "Attributes": "[{\"name\":\"tenant\",\"dataType\":\"string\"},{\"name\":\"meter\",\"dataType\":\"string\"},{\"name\":\"budget\",\"dataType\":\"string\"},{\"name\":\"type\",\"dataType\":\"string\"}]",
          "Name": "TenantMeterMap"
        },
        {
          "MapKey": "44",
          "GUID": "a396c00d-db4e-4a21-ca2a-173cf03f177d",
          "Attributes": "[{\"name\":\"energyRate\",\"dataType\":\"string\"},{\"name\":\"waterRate\",\"dataType\":\"string\"},{\"name\":\"taxRate\",\"dataType\":\"string\"},{\"name\":\"invoiceHtml\",\"dataType\":\"string\"},{\"name\":\"invoiceId\",\"dataType\":\"string\"}]",
          "Name": "global"
        },
        {
          "MapKey": "44",
          "GUID": "c381eaee-66fc-4386-d02a-94e1851c19d4",
          "Attributes": "[{\"name\":\"tenant\",\"dataType\":\"string\"},{\"name\":\"id\",\"dataType\":\"string\"},{\"name\":\"start\",\"dataType\":\"string\"},{\"name\":\"end\",\"dataType\":\"string\"},{\"name\":\"status\",\"dataType\":\"string\"},{\"name\":\"invoice\",\"dataType\":\"json\"}]",
          "Name": "invoices"
        }
      ],
      "Roles": []
    }
  ]
}